{% load static %}
<!-- Template Tag : need to find static image or css-->
<!DOCTYPE html>
<html lang="en">
  <!-- 中文： zh-Hant -->
  <head>
    <style>
      .modal.shoppingCartLeft .modal-dialog {
        position: fixed;
        margin: auto;
        width: 400px;
        height: 100%;
        left: 0;
        transform: translate3d(-100%, 0, 0);
        transition: transform 0.3s ease-out;
      }
      .modal.shoppingCartLeft .modal-content {
        height: 100%;
        overflow-y: auto;
        border-radius: 0;
      }

      .modal.shoppingCartLeft.show .modal-dialog {
        transform: translate3d(0, 0, 0);
      }
    </style>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static "css/all.css" %}" />
    <!-- Bootstrap -->
    <link rel="stylesheet" href="{% static "css/bootstrap.css"%} "/>
    <!-- Bootstrap -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- lightbox -->
    <link rel="stylesheet" href="{% static "css/lightbox.min.css"%}" />
    <!-- Custom -->
    <link rel="stylesheet" href="{% static "css/style.css"%}?v=1.1" />
    <!-- add navbar.css @ 13/01/206-->
    {% block extra_css %}{% endblock %}
    <!-- navbar.css-->
    <link rel="stylesheet" href="{% static "css/navbar.css"%}" />
    <!-- contactmodal.css-->
    <link rel="stylesheet" href="{% static "css/contactmodal.css"%}" />

    <!-- browser title -->
    <title>Only K {% block title %}{% endblock %}</title>
  </head>
  <body class="d-flex flex-column h-100">
    <!--  topbar -->
    {% comment %} Django command {% endcomment %}
    <!--   -->
    {% include 'partials/_topbar.html' %}
    <!--  navbar -->
    {% include 'partials/_navbar.html' %}
    <div class="container mt-2">{% include 'partials/_alert.html'%}</div>
    <!--  content -->
    <main class="flex-shrink-0">{% block content %} {% endblock %}</main>
    <!--  footer -->
    {% include 'partials/_footer.html' %}
    <!-- _contact_modal.html -->
    {% include 'partials/_contact_modal.html' %}
    <div class="modal fade shoppingCartLeft" id="navCartModal" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div
            class="modal-header text-white"
            style="background-color: #ffb7b7ff"
          >
            <h5 class="modal-title">
              <i class="fa fa-shopping-cart">My Cart</i>
            </h5>
            <button class="close text-white" type="button" data-dismiss="modal">
              <span>&times;</span>
            </button>
          </div>
          <div class="modal-body">
            {% if global_cart_items %}
            <ul class="list-group list-group-flush">
              {% for item in global_cart_items %}
              <li
                class="list-group-item justify-content-between align-items-center"
              >
                <div>
                  <strong>{{item.product.title}}</strong>
                  <br />
                  <small class="text-muted">Qty : {{item.quantity}} </small>
                </div>
                <span class="badge badge-pill badge-light">
                  $ {{item.product.price}}
                </span>
              </li>
              {% endfor %}
            </ul>
            <div class="p-3 border-top mt-3">
              <h5 class="text-right">total: ${{global_cart_total}}</h5>
              <a
                href="{% url 'carts:view_cart' %}"
                class="btn btn-block"
                style="background-color: #ffb7b7ff; color: white"
              >
                Checkout Now
              </a>
            </div>
            {% else %}
            <div class="text-center py-5">
              <i class="fa fa-shopping-basket fa-3x mb-3 text-muted"></i>
              <p>Your cart is empty.</p>
            </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>

    <script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'js/modal.js' %}"></script>
    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'js/lightbox.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
  </body>
</html>
